<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Leave a Review</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;background:#f7f9fc;margin:0;padding:20px;color:#222}
  .card{max-width:600px;margin:0 auto;background:#fff;padding:20px;border-radius:10px;
        box-shadow:0 4px 16px rgba(0,0,0,.08)}
  h2{margin:0 0 15px}
  .row{margin-bottom:12px}
  input,textarea,select{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;font-size:14px}
  button{background:#007bff;color:#fff;padding:10px 16px;border:none;border-radius:6px;cursor:pointer}
  button:hover{background:#0069d9}
  .msg{margin-top:12px;font-weight:600}
  .ok{color:#198754}
  .err{color:#dc3545}
</style>
</head>
<body>

<div class="card">
  <h2>Leave a Review</h2>
  <form id="reviewForm">
    <div class="row">
      <input type="text" id="name" placeholder="Your name" required>
    </div>
    <div class="row">
      <input type="email" id="email" placeholder="Email (optional)">
    </div>
    <div class="row">
      <select id="rating" required>
        <option value="">Select rating</option>
        <option value="5">★★★★★ 5</option>
        <option value="4">★★★★ 4</option>
        <option value="3">★★★ 3</option>
        <option value="2">★★ 2</option>
        <option value="1">★ 1</option>
      </select>
    </div>
    <div class="row">
      <input type="text" id="place" placeholder="Place / location">
    </div>
    <div class="row">
      <textarea id="comment" rows="4" placeholder="Write your review…" required></textarea>
    </div>
    <button type="submit">Submit Review</button>
  </form>
  <div id="msg" class="msg"></div>
</div>

<script>
// ✅ Replace with your API endpoint
const API_URL = "https://api.web3forms.com/submit";  
const ACCESS_KEY = "afc77fa9-3af5-41cf-8244-46281f580f91"; // your key

document.getElementById('reviewForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const msg = document.getElementById('msg');
  msg.textContent = "Submitting...";
  msg.className = "msg";

  const data = {
    access_key: ACCESS_KEY,
    name: document.getElementById('name').value.trim(),
    email: document.getElementById('email').value.trim(),
    rating: document.getElementById('rating').value,
    place: document.getElementById('place').value.trim(),
    comment: document.getElementById('comment').value.trim()
  };

  try {
    const res = await fetch(API_URL, {
      method: "POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify(data)
    });
    const json = await res.json();

    if(json.success){
      msg.textContent = "✅ Review submitted successfully!";
      msg.className = "msg ok";
      e.target.reset();
    } else {
      msg.textContent = "❌ Error: " + (json.message || "Submit failed");
      msg.className = "msg err";
    }
  } catch(err){
    console.error(err);
    msg.textContent = "❌ Network error submitting review.";
    msg.className = "msg err";
  }
});
</script>

</body>
</html>
